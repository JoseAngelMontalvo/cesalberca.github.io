{"version":3,"sources":["webpack:///./src/ui/home/Home.vue?dcb6","webpack:///./src/ui/home/Home.vue","webpack:///./src/ui/home/Home.vue?8aba","webpack:///./src/ui/home/Home.vue?a3a6","webpack:///./src/ui/actions/NavigateToArticle.ts","webpack:///./src/ui/actions/ActionsFactory.ts"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","_s","recentArticlesTitle","_l","article","key","id","slug","attrs","excerpt","getExcerpt","on","on-click","navigateToArticle","staticRenderFns","Homevue_type_script_lang_ts_Home","_Vue","Home","_this","Object","classCallCheck","articles","inherits","createClass","value","_onLocaleChange","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","application","get","locale","state","instance","execute","sent","stop","onLocaleChange","apply","arguments","ActionsFactory","router","$router","translationService","translate","vue_property_decorator","tslib_es6","beforeRouteEnter","_beforeRouteEnter","_callee2","_to","_from","_context2","vm","_x","_x2","_x3","components","ArticleExcerpt","commons","Homevue_type_script_lang_ts_","home_Homevue_type_script_lang_ts_","component","componentNormalizer","__webpack_exports__","NavigateToArticle_NavigateToArticle","NavigateToArticle","_execute","push","name","params","toString","ActionsFactory_ActionsFactory","action","context"],"mappings":"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","file":"js/home.3d47771c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.recentArticlesTitle))]),_vm._l((_vm.articles),function(article){return _c('ArticleExcerpt',{key:article.id.slug,attrs:{\"excerpt\":article.getExcerpt()},on:{\"on-click\":_vm.navigateToArticle}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Inject, Vue, Watch } from 'vue-property-decorator'\nimport { TranslationService, UseCaseFactory } from '../../application'\nimport { Article, Id } from '../../domain/articles'\nimport { ArticleExcerpt } from '../commons'\nimport { State, VueStateManager } from '../state'\nimport { ActionsFactory } from '../actions/ActionsFactory'\n\n@Component<Home>({\n  async beforeRouteEnter(_to, _from, next) {\n    const articles = await UseCaseFactory.get<Article[]>('GetAllArticles', {\n      locale: VueStateManager.instance.state.locale\n    }).execute()\n    next(vm => {\n      vm.articles = articles\n    })\n  },\n  components: {\n    ArticleExcerpt\n  }\n})\nexport default class Home extends Vue {\n  @Inject()\n  readonly translationService!: TranslationService\n\n  @Inject()\n  readonly state!: State\n\n  articles: Article[] = []\n\n  @Watch('state.locale')\n  async onLocaleChange() {\n    this.articles = await UseCaseFactory.get<Article[]>('GetAllArticles', {\n      locale: VueStateManager.instance.state.locale\n    }).execute()\n  }\n\n  navigateToArticle(id: Id) {\n    ActionsFactory.get('NavigateToArticle', {\n      router: this.$router,\n      id,\n      translationService: this.translationService,\n      locale: this.state.locale\n    }).execute()\n  }\n\n  get recentArticlesTitle() {\n    return this.translationService.translate(this.state.locale, 'home_recentArticles')\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=2155b850&\"\nimport script from \"./Home.vue?vue&type=script&lang=ts&\"\nexport * from \"./Home.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Command } from '../../infraestructure/Command'\nimport { Id } from '../../domain'\nimport { VueRouter } from 'vue-router/types/router'\nimport { Locale } from '../../infraestructure/language'\nimport { TranslationService } from '../../application'\n\nexport class NavigateToArticle implements Command<void> {\n  public constructor(\n    private readonly router: VueRouter,\n    private readonly id: Id,\n    private readonly translationService: TranslationService,\n    private readonly locale: Locale\n  ) {}\n\n  public async execute(): Promise<void> {\n    this.router.push({\n      name: 'article',\n      params: { id: this.id.slug, locale: this.translationService.toString(this.locale) }\n    })\n  }\n}\n","import { Actions } from './Actions'\nimport { NavigateToArticle } from './NavigateToArticle'\n\nexport class ActionsFactory {\n  public static get(action: Actions, context?: any) {\n    switch (action) {\n      case 'NavigateToArticle':\n        return new NavigateToArticle(\n          context.router,\n          context.id,\n          context.translationService,\n          context.locale\n        )\n    }\n  }\n}\n"],"sourceRoot":""}