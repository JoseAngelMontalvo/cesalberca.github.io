{"version":3,"sources":["webpack:///./src/ui/home/Home.vue?f8dd","webpack:///./src/ui/home/Home.vue","webpack:///./src/ui/home/Home.vue?8aba","webpack:///./src/ui/home/Home.vue?a3a6","webpack:///./src/ui/actions/NavigateToArticle.ts","webpack:///./src/ui/actions/ActionsFactory.ts"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","_s","recentArticlesTitle","_l","article","key","id","slug","attrs","excerpt","getExcerpt","on","on-action","navigateToArticle","staticRenderFns","Homevue_type_script_lang_ts_Home","_Vue","Home","_this","Object","classCallCheck","articles","inherits","createClass","value","_onLocaleChange","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","useCases","create","locale","state","instance","execute","sent","stop","onLocaleChange","apply","arguments","ActionsFactory","get","router","$router","translationService","translate","vue_property_decorator","tslib_es6","beforeRouteEnter","_beforeRouteEnter","_callee2","_to","_from","_context2","vm","_x","_x2","_x3","components","ArticleExcerpt","commons","Homevue_type_script_lang_ts_","home_Homevue_type_script_lang_ts_","component","componentNormalizer","__webpack_exports__","NavigateToArticle_NavigateToArticle","NavigateToArticle","_execute","push","name","params","toString","ActionsFactory_ActionsFactory","action","context"],"mappings":"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","file":"js/home.59432738.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.recentArticlesTitle))]),_vm._l((_vm.articles),function(article){return _c('ArticleExcerpt',{key:article.id.slug,attrs:{\"excerpt\":article.getExcerpt()},on:{\"on-action\":_vm.navigateToArticle}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Inject, Vue, Watch } from 'vue-property-decorator'\nimport { Article, Id } from '../../domain/articles'\nimport { ArticleExcerpt } from '../commons'\nimport { VueStateManager } from '../state'\nimport { ActionsFactory } from '../actions/ActionsFactory'\nimport { GetAllArticles } from '../../application/useCases'\nimport { Translate } from '../commons/Translate'\nimport { TranslationService } from '../../domain/TranslationService'\nimport { State } from '../../application/state'\n\n@Component<Home>({\n  async beforeRouteEnter(_to, _from, next) {\n    const articles = await GetAllArticles.create({\n      locale: VueStateManager.instance.state.locale\n    }).execute()\n\n    next(vm => {\n      vm.articles = articles\n    })\n  },\n  components: {\n    ArticleExcerpt\n  }\n})\nexport default class Home extends Vue {\n  @Inject()\n  readonly translationService!: TranslationService\n\n  @Inject()\n  readonly state!: State\n\n  @Inject()\n  readonly translate!: Translate\n\n  articles: Article[] = []\n\n  @Watch('state.locale')\n  async onLocaleChange() {\n    this.articles = await GetAllArticles.create({\n      locale: VueStateManager.instance.state.locale\n    }).execute()\n  }\n\n  navigateToArticle(id: Id) {\n    ActionsFactory.get('NavigateToArticle', {\n      router: this.$router,\n      id,\n      translationService: this.translationService,\n      locale: this.state.locale\n    }).execute()\n  }\n\n  get recentArticlesTitle() {\n    return this.translate('home_recentArticles')\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=5a82b5c4&\"\nimport script from \"./Home.vue?vue&type=script&lang=ts&\"\nexport * from \"./Home.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Command } from '../../infraestructure/Command'\nimport { Id } from '../../domain'\nimport { VueRouter } from 'vue-router/types/router'\nimport { Locale } from '../../domain/language'\nimport { TranslationService } from '../../domain/TranslationService'\n\nexport class NavigateToArticle implements Command<void> {\n  public constructor(\n    private readonly router: VueRouter,\n    private readonly id: Id,\n    private readonly translationService: TranslationService,\n    private readonly locale: Locale\n  ) {}\n\n  public async execute(): Promise<void> {\n    this.router.push({\n      name: 'article',\n      params: { id: this.id.slug, locale: this.translationService.toString(this.locale) }\n    })\n  }\n}\n","import { Actions } from './Actions'\nimport { NavigateToArticle } from './NavigateToArticle'\n\nexport class ActionsFactory {\n  public static get(action: Actions, context?: any) {\n    switch (action) {\n      case 'NavigateToArticle':\n        return new NavigateToArticle(\n          context.router,\n          context.id,\n          context.translationService,\n          context.locale\n        )\n    }\n  }\n}\n"],"sourceRoot":""}